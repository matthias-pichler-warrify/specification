document:
  dsl: 1.0.0-alpha1
  namespace: examples
  name: secret-oauth2-auth
  version: 1.0.0-alpha1
use:
  secrets:
    - clientSecret
do:
  - getPet:
      call: http
      with:
        method: get
        endpoint:
          uri: https://petstore.swagger.io/v2/pet/{petId}
          authentication:
            oauth2:
              authority: https://petstore.swagger.io/.well-known/openid-configuration
              grant: client_credentials
              client:
                id: petstore
                secret: 
                  use: clientSecret
